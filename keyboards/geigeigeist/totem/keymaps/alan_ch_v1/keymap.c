/*
*
*                                           ▀▀▀▀▀     ▀▀▀▀▀          ▀▀█▀▀
*                                           ▄▀▀▀▄  ▄  ▄▀▀▀▄  ▄  ▄▀▀▀▄  █  ▄▀▀▀▄
*                                           █   █  █  █   █  █  █   █  █  █   █
*                                            ▀▀▀   █   ▀▀▀   █   ▀▀▀   ▀   ▀▀▀
*                                                  █      ▄▄▄█▄▄▄    █   █
*                                                  ▀      █  █  █     █▄█
*                                                ▀▀▀▀▀    █  █  █      ▀   ┌─┐┌─╴╷┌──┬─
*                                                         ▀  ▀  ▀          │ ┐├─╴│└─┐│
*                                                                          └─┘└─╴╵╶─┘╵
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
*/

#include QMK_KEYBOARD_H
#include <stdio.h>
#include "totem.h"

// ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
// │ D E F I N I T I O N S                                                                                                  │
// └────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
// ▝▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▘

// ┌─────────────────────────────────────────────────┐
// │ d e f i n e   l a y e r s                       │
// └─────────────────────────────────────────────────┘

enum totem_layers {
    _NOTED,
    _MATH,
    _SYM,
    _NAV,
    _MOUSE,
    _FMED,
    _TEMP,
    _NUMBLK,
    _UML
};

// ┌─────────────────────────────────────────────────┐
// │ d e f i n e   k e y c o d e s                   │
// └─────────────────────────────────────────────────┘

enum custom_keycodes {
    AE = SAFE_RANGE,
    UE,
    OE,
    E_AIGU,
    E_GRV,
    A_GRV,
    U_GRV,
    C_EDIL,
    FAST_U,
    FAST_D,
    FAST_L,
    FAST_R
};

// ┌─────────────────────────────────────────────────┐
// │ d e f i n e   c u s t o m   s h i f t           │
// └─────────────────────────────────────────────────┘

const custom_shift_key_t custom_shift_keys[] = {
    {KC_1, KC_1},
    {KC_2, KC_2},
    {KC_3, KC_3},
    {KC_4, KC_4},
    {KC_5, KC_5},
    {KC_6, KC_6},
    {KC_7, KC_7},
    {KC_8, KC_8},
    {KC_9, KC_9},
    {KC_0, KC_0},
};


// ┌─────────────────────────────────────────────────┐
// │ d e f i n e   m a c r o n a m e s               │
// └─────────────────────────────────────────────────┘

// LEFT HAND HOME ROW MODS ├───────────────────────────────────┐
#define ALT_S LALT_T(KC_S)
#define CTL_I LCTL_T(KC_I)
#define SFT_E LSFT_T(KC_E)

// RIGHT HAND HOME ROW MODS ├───────────────────────────────────┐


// LAYER TAPS ├─────────────────────────────────────────────────┐
#define MOU_REP LT(_MOUSE, QK_REP)
#define NAV_SPC LT(_NAV, KC_SPC)
#define MAT_TAB LT(_MATH, KC_TAB)
#define GAC_MOD MT(MOD_LCTL | MOD_LGUI | MOD_LALT, KC_NO)


// ┌─────────────────────────────────────────────────┐
// │ d e f i n e   c o m b o s                       │
// └─────────────────────────────────────────────────┘

#define COMBO_MUST_HOLD_MODS

const uint16_t PROGMEM left_ind_mid[] = {KC_X, KC_Y, COMBO_END};
const uint16_t PROGMEM right_ind_mid_num[] = {KC_EQL, KC_COMM, COMBO_END};
const uint16_t PROGMEM right_ind_mid_base[] = {KC_G, KC_COMM, COMBO_END};
const uint16_t PROGMEM left_top_row[] = {KC_Y, KC_U, KC_A, COMBO_END};
const uint16_t PROGMEM both_thumbs_home[] = {LT(_NAV, KC_SPC), KC_LSFT, COMBO_END};
const uint16_t PROGMEM outer_2_right[] = {KC_R, KC_H, COMBO_END};

combo_t key_combos[] = {
    COMBO(left_ind_mid, KC_ESC),
    COMBO(right_ind_mid_num, KC_ENT),
    COMBO(right_ind_mid_base, KC_ENT),
    COMBO(left_top_row, TG(_NUMBLK)),
    COMBO(both_thumbs_home, KC_LGUI),
    COMBO(outer_2_right, KC_DEL)
};

// ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
// │ K E Y M A P S                                                                                                          │
// └────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
// ▝▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▘

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

    /*
    * ┌─────────────────────────────────────────────────┐
    * │ n o t e d                                       │      ╭╮╭╮╭╮╭╮
    * └─────────────────────────────────────────────────┘      │╰╯╰╯╰╯│
    *           ┌─────────┬─────────┬─────────┬─────────┬──────╨──┐┌──╨──────┬─────────┬─────────┬─────────┬─────────┐
    *   ╌┄┈┈───═╡  _UML   │    Y    │    U    │    A    │    Q    ││    P    │    B    │    M    │    L    │    F    │
    *           ├─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┤
    *           │    C    │  ALT_S  │  CTL_I  │  SFT_E  │    O    ││    D    │    T    │    N    │    R    │    H    │
    * ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐
    * │ GAC_MOD │    V    │    J    │    X    │    Z    │    -    ││    W    │    G    │    ,    │    .    │    K    │  BCKSP  │
    * └─────────┴─────────┴─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┴─────────┴─────────┘
    *                               │ MOU_REP │ NAV_SPC │ MAT_TAB ││  _SYM   │  SHIFT  │   LGUI  │
    *                               └─────────┴─────────┴─────────┘└─────────┴─────────┴─────────┘*/

    [_NOTED] = LAYOUT(
        //╷         ╷         ╷         ╷         ╷         ╷         ╷╷         ╷         ╷         ╷         ╷         ╷         ╷
                    MO(_UML),  KC_Z,     KC_U,     KC_A,     KC_Q,      KC_P,     KC_B,     KC_M,     KC_L,     KC_F,
                    KC_C,      ALT_S,    CTL_I,    SFT_E,    KC_O,      KC_D,     KC_T,     KC_N,     KC_R,     KC_H,
        GAC_MOD,    KC_V,      KC_J,     KC_X,     KC_Y,     KC_SLSH,   KC_W,     KC_G,     KC_COMM,  KC_DOT,   KC_K,  KC_BSPC,
                                         MOU_REP,  NAV_SPC,  MAT_TAB,   MO(_SYM), KC_LSFT,  KC_LGUI
    ),

    /*
    * ╺━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
    *
    * ┌─────────────────────────────────────────────────┐
    * │ m a t h                                         │      ╭╮╭╮╭╮╭╮
    * └─────────────────────────────────────────────────┘      │╰╯╰╯╰╯│
    *           ┌─────────┬─────────┬─────────┬─────────┬──────╨──┐┌──╨──────┬─────────┬─────────┬─────────┬─────────┐
    *   ╌┄┈┈───═╡   F1    │   F2    │   F3    │    F4   │    F5   ││   F6    │   F11   │   F12   │   F9    │   F10   │
    *           ├─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┤
    *           │    1    │    2    │    3    │    4    │    5    ││    6    │    7    │    8    │    9    │    0    │
    * ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐
    * │         │    '    │         │         │         │    -    ││    +    │    =    │    ,    │    .    │    :    │  BCKSP  │
    * └─────────┴─────────┴─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┴─────────┴─────────┘
    *                               │         │         │         ││         │         │         │
    *                               └─────────┴─────────┴─────────┘└─────────┴─────────┴─────────┘*/

    [_MATH] = LAYOUT(
        //╷         ╷         ╷         ╷         ╷         ╷         ╷╷         ╷         ╷         ╷         ╷         ╷         ╷
                     KC_F1,    KC_F2,    KC_F3,    KC_F4,    KC_F5,     KC_F6,    KC_F11,   KC_F12,   KC_F9,    KC_F10,
                     KC_1,     KC_2,     KC_3,     KC_4,     KC_5,      KC_6,     KC_7,     KC_8,     KC_9,     KC_0,
          _______,   KC_MINS,  _______,  _______,  _______,  KC_SLSH,   KC_PLUS,  KC_EQL,   KC_COMM,  KC_DOT,   KC_COLN,   KC_BSPC,
                                         _______,  _______,  _______,   _______,  _______,  _______
    ),

    /*
    * ╺━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
    *
    * ┌─────────────────────────────────────────────────┐
    * │ n e w s y m                                     │      ╭╮╭╮╭╮╭╮
    * └─────────────────────────────────────────────────┘      │╰╯╰╯╰╯│
    *           ┌─────────┬─────────┬─────────┬─────────┬──────╨──┐┌──╨──────┬─────────┬─────────┬─────────┬─────────┐
    *   ╌┄┈┈───═╡    "    │    @    │    #    │    %    │    ^    ││    ~    │    |    │    &    │    =    │         │
    *           ├─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┤
    *           │    '    │    {    │    [    │    (    │    /    ││    \    │    >    │    ?    │    !    │    $    │
    * ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐
    * │         │    `    │    }    │    ]    │    )    │    -    ││    +    │    <    │    ,    │    .    │    *    │  BCKSP  │
    * └─────────┴─────────┴─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┴─────────┴─────────┘
    *                               │   ESC   │   SPC   │   TAB   ││    ▼    │ KC_LSFT │   DEL   │
    *                               └─────────┴─────────┴─────────┘└─────────┴─────────┴─────────┘
    */

    [_SYM] = LAYOUT(
        //╷         ╷           ╷           ╷           ╷           ╷           ╷╷           ╷           ╷           ╷           ╷           ╷           ╷
                    S(KC_2),    ALGR(KC_2), ALGR(KC_3), S(KC_5),    KC_EQL,      ALGR(KC_EQL),ALGR(KC_7),S(KC_6),    S(KC_0),    XXXXXXX,
                    KC_MINS, ALGR(KC_QUOT), ALGR(KC_LBRC),S(KC_8),  S(KC_7),  ALGR(KC_NUBS), S(KC_NUBS), S(KC_MINS), S(KC_RBRC), KC_NUHS,
           _______, S(KC_EQL),ALGR(KC_NUHS),ALGR(KC_RBRC),S(KC_9),  KC_SLSH,     S(KC_1),    KC_NUBS,    KC_COMM,    KC_DOT,     S(KC_3),   KC_BSPC,
                                         _______,  _______,  _______,   _______,  _______,  _______
    ),

    /*
    * ╺━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
    *
    * ┌─────────────────────────────────────────────────┐
    * │ n a v                                           │      ╭╮╭╮╭╮╭╮
    * └─────────────────────────────────────────────────┘      │╰╯╰╯╰╯│
    *           ┌─────────┬─────────┬─────────┬─────────┬──────╨──┐┌──╨──────┬─────────┬─────────┬─────────┬─────────┐
    *   ╌┄┈┈───═╡         │         │         │         │         ││  REDO   │  ←←←←←  │  ↓↓↓↓↓  │  ↑↑↑↑↑  │  →→→→→  │
    *           ├─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┤
    *           │   GUI   │   ALT   │   CTL   │  SHIFT  │         ││  CAPS   │    ←    │    ↓    │    ↑    │    →    │
    * ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐
    * │         │         │         │         │         │         ││         │  HOME   │  PG DN  │  PG UP  │   END   │ KC_BSPC │
    * └─────────┴─────────┴─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┴─────────┴─────────┘
    *                               │         │    ▼    │         ││   ENT   │  BSPC   │   DEL   │
    *                               └─────────┴─────────┴─────────┘└─────────┴─────────┴─────────┘*/

    [_NAV] = LAYOUT(
        //╷         ╷         ╷         ╷         ╷         ╷         ╷╷         ╷         ╷         ╷         ╷         ╷         ╷
                    XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,   KC_AGIN,  FAST_L,   FAST_D,   FAST_U,   FAST_R,
                    XXXXXXX,  KC_LALT,  KC_LCTL,  KC_LSFT,  XXXXXXX,   KC_CAPS,  KC_LEFT,  KC_DOWN,  KC_UP,    KC_RGHT,
          _______,  XXXXXXX,  KC_LGUI,  SELWORD,  XXXXXXX,  XXXXXXX,   XXXXXXX,  KC_HOME,  KC_PGDN,  KC_PGUP,  KC_END,  KC_BSPC,
                                        XXXXXXX,  _______,  XXXXXXX,   _______,   _______,  _______
    ),

    /*
    * ╺━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
    *
    * ┌─────────────────────────────────────────────────┐
    * │ m o u s e                                       │      ╭╮╭╮╭╮╭╮
    * └─────────────────────────────────────────────────┘      │╰╯╰╯╰╯│
    *           ┌─────────┬─────────┬─────────┬─────────┬──────╨──┐┌──╨──────┬─────────┬─────────┬─────────┬─────────┐
    *   ╌┄┈┈───═╡         │         │         │         │         ││         │  PASTE  │  COPY   │   CUT   │  UNDO   │
    *           ├─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┤
    *move app to│ wrkspc1 │ wrkspc2 │ wrkspc3 │ wrkspc4 │ wrkspc5 ││ wrkspc6 │   M←    │   M↓    │   M↑    │   M→    │
    * ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐
    * │         │         │         │         │         │         ││         │  WHL ←  │  WHL ↓  │  WHL ↑  │  WHL →  │         │
    * └─────────┴─────────┴─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┴─────────┴─────────┘
    *                               │    ▼    │         │         ││  BTN 2  │  BTN 1  │  BTN 3  │
    *                               └─────────┴─────────┴─────────┘└─────────┴─────────┴─────────┘*/

    [_MOUSE] = LAYOUT(
        //╷         ╷         ╷         ╷         ╷         ╷         ╷╷         ╷         ╷         ╷         ╷         ╷         ╷
                    XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,   XXXXXXX,  KC_PSTE,  KC_COPY,  KC_CUT,   KC_UNDO,
                    LSG(KC_1),LSG(KC_2),LSG(KC_3),LSG(KC_4),LSG(KC_5), LSG(KC_6),MS_LEFT,  MS_DOWN,  MS_UP,    MS_RGHT,
          _______,  XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,   LSG(KC_7),MS_WHLL,  MS_WHLD,  MS_WHLU,  MS_WHLR,  _______,
                                        _______,  XXXXXXX,  XXXXXXX,   MS_BTN2,  MS_BTN1,  MS_BTN3
    ),

    /*
    * ╺━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
    *
    * ┌─────────────────────────────────────────────────┐
    * │ f k e y s                                       │      ╭╮╭╮╭╮╭╮
    * └─────────────────────────────────────────────────┘      │╰╯╰╯╰╯│
    *           ┌─────────┬─────────┬─────────┬─────────┬──────╨──┐┌──╨──────┬─────────┬─────────┬─────────┬─────────┐
    *   ╌┄┈┈───═╡   F5    │   F6    │   F7    │   F8    │ KC_PSCR ││         │         │         │         │         │
    *           ├─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┤
    *           │   F1    │   F2    │   F3    │   F4    │  SCRL   ││         │  PREV   │  VOL-   │  VOL+   │  NEXT   │
    * ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐
    * │         │   F9    │   F10   │   F11   │   F12   │  PAUSE  ││         │  STOP   │  PLAY   │  MUTE   │         │         │
    * └─────────┴─────────┴─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┴─────────┴─────────┘
    *                               │   APP   │   SPC   │   TAB   ││         │         │    ▼    │
    *                               └─────────┴─────────┴─────────┘└─────────┴─────────┴─────────┘*/

    [_FMED] = LAYOUT(
        //╷         ╷         ╷         ╷         ╷         ╷         ╷╷         ╷         ╷         ╷         ╷         ╷         ╷
                    KC_F5,    KC_F6,    KC_F7,    KC_F8,    KC_PSCR,   XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,
                    KC_F1,    KC_F2,    KC_F3,    KC_F4,    KC_SCRL,   XXXXXXX,  KC_MPRV,  KC_VOLD,  KC_VOLU,  KC_MNXT,
          _______,  KC_F9,    KC_F10,   KC_F11,   KC_F12,   KC_PAUS,   XXXXXXX,  KC_MPLY,  KC_MSTP,  KC_MUTE,  XXXXXXX,  _______,
                                        KC_APP,   KC_SPC,   KC_TAB,    XXXXXXX,  XXXXXXX,  _______
    ),

    /*
    * ╺━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
    *
    * ┌─────────────────────────────────────────────────┐
    * │ n u m b l o c k                                 │      ╭╮╭╮╭╮╭╮
    * └─────────────────────────────────────────────────┘      │╰╯╰╯╰╯│
    *           ┌─────────┬─────────┬─────────┬─────────┬──────╨──┐┌──╨──────┬─────────┬─────────┬─────────┬─────────┐
    *   ╌┄┈┈───═╡         │    7    │    8    │    9    │         ││         │         │         │         │         │
    *           ├─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┤
    *           │    0    │    4    │    5    │    6    │    /    ││         │  SHIFT  │   CTL   │   ALT   │   GUI   │
    * ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐
    * │    ▼    │         │    1    │    2    │    3    │    -    ││    +    │    G    │    ,    │         │         │         │
    * └─────────┴─────────┴─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┴─────────┴─────────┘
    *                               │    0    │   SPC   │   TAB   ││         │         │         │
    *                               └─────────┴─────────┴─────────┘└─────────┴─────────┴─────────┘*/

    [_NUMBLK] = LAYOUT(
        //╷         ╷         ╷         ╷         ╷         ╷         ╷╷         ╷         ╷         ╷         ╷         ╷         ╷
                    XXXXXXX,  KC_7,     KC_8,     KC_9,     XXXXXXX,   XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,  XXXXXXX,
                    KC_0,     KC_4,     KC_5,     KC_6,     KC_PSLS,   TG(_NUMBLK),TG(_NUMBLK),TG(_NUMBLK),TG(_NUMBLK),XXXXXXX,
       TG(_NUMBLK), XXXXXXX,  KC_1,     KC_2,     KC_3,     KC_SLSH,   KC_PLUS,  KC_G,     KC_COMM,  XXXXXXX,  XXXXXXX,  _______,
                                        KC_0,     KC_SPC,   KC_TAB,    TG(_NUMBLK),TG(_NUMBLK),TG(_NUMBLK)
    ),

    /*
    * ┌─────────────────────────────────────────────────┐
    * │ u m l                                           │      ╭╮╭╮╭╮╭╮
    * └─────────────────────────────────────────────────┘      │╰╯╰╯╰╯│
    *           ┌─────────┬─────────┬─────────┬─────────┬──────╨──┐┌──╨──────┬─────────┬─────────┬─────────┬─────────┐
    *   ╌┄┈┈───═╡    -    │    -    │    ü    │    ä    │    à    ││    -    │    -    │    -    │    -    │    -    │
    *           ├─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┤
    *           │    ç    │    -    │    ù    │    é    │    ö    ││    -    │    -    │    -    │    -    │    -    │
    * ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐
    * │ UC_NEXT │    -    │    -    │    -    │    è    │    -    ││    -    │    -    │    -    │    -    │    -    │         │
    * └─────────┴─────────┴─────────┼─────────┼─────────┼─────────┤├─────────┼─────────┼─────────┼─────────┴─────────┴─────────┘
    *                               │    -    │    -    │    -    ││    -    │    -    │    -    │
    *                               └─────────┴─────────┴─────────┘└─────────┴─────────┴─────────┘*/

    [_UML] = LAYOUT(
        //╷         ╷         ╷         ╷         ╷         ╷         ╷╷         ╷         ╷         ╷         ╷         ╷         ╷
                    _______,   _______,  UE,       AE,       A_GRV,     _______,  _______,  _______,  _______,  _______,
                    C_EDIL,    _______,  U_GRV,    E_AIGU,   OE,        _______,  _______,  _______,  _______,  _______,
        _______,    _______,   _______,  _______,  E_GRV,    _______,   _______,  _______,  _______,  _______,  _______,   _______,
                                         _______,  _______,  _______,   _______,  _______,  _______
    ),

};


// ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
// │ M A C R O S                                                                                                            │
// └────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
// ▝▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▘
/*
void matrix_init_user(void) {
    set_unicode_input_mode(UC_LINX);
}
*/
bool process_record_user(uint16_t keycode, keyrecord_t *record) {
    // Only process on key press, not release
    if (!record->event.pressed) {
        return true;
    }

    // Check if shift is held
    bool shifted = get_mods() & MOD_MASK_SHIFT;

    switch (keycode) {

        case FAST_L:
            if (record->event.pressed) {
                for (int i = 0; i < 10; i++){
                    tap_code(KC_LEFT);
                }
            }
            return false;

        case FAST_D:
            if (record->event.pressed) {
                for (int i = 0; i < 7; i++){
                    tap_code(KC_DOWN);
                }
            }
            return false;

        case FAST_U:
            if (record->event.pressed) {
                for (int i = 0; i < 7; i++){
                    tap_code(KC_UP);
                }
            }
            return false;

        case FAST_R:
            if (record->event.pressed) {
                for (int i = 0; i < 10; i++){
                    tap_code(KC_RIGHT);
                }
            }
            return false;

        case AE:
            if (record->event.pressed) {
                // save current mods
                uint8_t mods = get_mods();

                if (mods & MOD_MASK_SHIFT) {
                    unregister_mods(MOD_MASK_SHIFT);
                    tap_code(KC_CAPS);
                    wait_ms(1);
                    tap_code(KC_QUOT);
                    wait_ms(1);
                    tap_code(KC_CAPS);
                    //wait_ms(10);

                    //restore mods
                    set_mods(mods);
                } else {
                    tap_code(KC_QUOT);
                }
            }
            return false;

        case UE:
             if (record->event.pressed) {
                // save current mods
                uint8_t mods = get_mods();

                if (mods & MOD_MASK_SHIFT) {
                    unregister_mods(MOD_MASK_SHIFT);
                    tap_code(KC_CAPS);
                    wait_ms(1);
                    tap_code(KC_LBRC);
                    wait_ms(1);
                    tap_code(KC_CAPS);
                    //wait_ms(10);

                    //restore mods
                    set_mods(mods);
                } else {
                    tap_code(KC_LBRC);
                }
             }
             return false;

       case OE:
              if (record->event.pressed) {
                    // save current mods
                    uint8_t mods = get_mods();

                    if (mods & MOD_MASK_SHIFT) {
                        unregister_mods(MOD_MASK_SHIFT);
                        tap_code(KC_CAPS);
                        wait_ms(1);
                        tap_code(KC_SCLN);
                        wait_ms(1);
                        tap_code(KC_CAPS);
                        //wait_ms(10);

                        //restore mods
                        set_mods(mods);
                    } else {
                        tap_code(KC_SCLN);
                    }
              }
              return false;


      case E_AIGU:
          if (record->event.pressed) {
              if (shifted) {
                  tap_code(KC_CAPS);
                  wait_ms(1);
                  tap_code(KC_SCLN);
                  wait_ms(1);
                  tap_code(KC_CAPS);
                  //wait_ms(10);
              } else {
                  set_mods(MOD_MASK_SHIFT);
                  tap_code(KC_SCLN);
                  clear_mods();
              }
          }
          return false;

        case E_GRV:
            if (record->event.pressed) {
                if (shifted) {
                    tap_code(KC_CAPS);
                    wait_ms(1);
                    tap_code(KC_LBRC);
                    wait_ms(1);
                    tap_code(KC_CAPS);
                    //wait_ms(10);
                } else {
                    set_mods(MOD_MASK_SHIFT);
                    tap_code(KC_LBRC);
                    clear_mods();
                }
            }
            return false;

        case A_GRV:
            if (record->event.pressed) {
                if (shifted) {
                    tap_code(KC_CAPS);
                    wait_ms(1);
                    tap_code(KC_QUOT);
                    wait_ms(1);
                    tap_code(KC_CAPS);
                    //wait_ms(10);
                } else {
                    set_mods(MOD_MASK_SHIFT);
                    tap_code(KC_QUOT);
                    clear_mods();
                }
            }
            return false;

        case U_GRV:
            return false;

        case C_EDIL:
            return false;
    }

    return true;
}

/*
 * ╺━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
 *
 *
 *                                                        ██████
 *                                                          ██  ▄▄▄▄
 *                                                          ██ ██▀▀██
 *                                                          ▀▀ ██▄▄██
 *                                                      ██████  ▀▀▀▀
 *                                                        ██ ▄▄▄▄▄▄
 *                                                        ██ ██▀▀▀▀
 *                                                        ██ ██████
 *                                                           ██▄▄▄▄
 *                                                           ▀▀▀▀▀▀
 *                                                         ████████
 *                                                         ██ ██ ██
 *                                                         ██ ██ ██
 *                                                         ▀▀ ▀▀ ▀▀
 *                                                        ████████
 *
 */
